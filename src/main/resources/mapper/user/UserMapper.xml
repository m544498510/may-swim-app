<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.may.user.dao.IUserDAO">
    <resultMap type="User" id="userResultMap">
        <id property="userId" column="user_id"/>
        <result property="userName" column="user_name"/>
        <result property="userEmail" column="user_email"/>
        <result property="userPsd" column="user_psd"/>
        <result property="userCreateTime" column="user_create_time"/>
    </resultMap>

    <!-- 根据 userName 和 password 查询 user -->
    <select id="getUserByNameAndPsd" resultType="User" resultMap="userResultMap">
        <![CDATA[
            SELECT * FROM t_user
                WHERE user_name = #{userName} AND usr_psd = #{userPsd}
        ]]>
    </select>

    <!-- 根据 userName 查询 user -->
    <select id="getUserByName" resultType="User" resultMap="userResultMap">
        <![CDATA[
            SELECT * FROM t_user
                WHERE user_name = #{userName}
        ]]>
    </select>


    <insert id="insertUser" parameterType="User">
        <![CDATA[
            INSERT INTO t_user(userId,userName,userPsd,userEmail,userNick,userCreateTime)
                VALUES (#{user_id},#{user_name},#{user_psd},#{user_email},#{user_nick},#{user_create_time})
        ]]>
    </insert>

</mapper>